package ch.nte.wro.sensors;

import lejos.hardware.sensor.SensorModes;
import lejos.robotics.SampleProvider;

public class RGBColorSensorChecker {
	
	private SampleProvider color;
	private float[] status;
	private SensorModes sensor;
	
	public RGBColorSensorChecker(SensorModes sensor) {
		this.sensor = sensor;
		convertSensor();
	}
	
	private void convertSensor() {
		SampleProvider color = sensor.getMode("Red");
		float[] status = new float[color.sampleSize()];
		this.color = color;
		this.status = status;
	}
	
	public void checkSensor() {
		color.fetchSample(status, 0);
	}
	
	public String getColor() {
		float red = status[0];
		float green = status[1];
		float blue = status[2];
		String returnWert = null;
		
		if((red >= 0.1 && red <= 0.2)&&(green >= 0.1 && green <= 0.2)&&(blue >= 0.1 && blue <= 0.25)) {
			returnWert = "black";
		}
		
		if((red >= 0.1 && red <= 0.2)&&(green >= 0.3 && green <= 0.6)&&(blue >= 0.1 && blue <= 0.25)) {
			returnWert = "green";
		}
		
		return returnWert;
	}

}
