package ch.nte.wro.motion;

import ch.nte.wro.sensors.LightIntensitySensorChecker;
import ch.nte.wro.status.RoboData;
import lejos.hardware.sensor.SensorModes;
import lejos.robotics.RegulatedMotor;

public class CountLines {
	
	private int actualLinesPassed = 0;
	
	public CountLines(int speed, RegulatedMotor mLeft, RegulatedMotor mRight, SensorModes sensorModes, int lines) {
		LightIntensitySensorChecker lic = new LightIntensitySensorChecker(sensorModes);
		
		mLeft.setSpeed(speed);
		mRight.setSpeed(speed);
		if(RoboData.invertMotorDirection) {
			mLeft.backward();
			mRight.backward();
		} else {
			mLeft.forward();
			mRight.backward();
		}
		
		while(actualLinesPassed <= ) {
			lic.checkSensor();
			if(lic.getIntensity() < 0.06) {
				foundALine = true;
				mLeft.setSpeed(0);
				mRight.setSpeed(0);
				mLeft.stop();
				mRight.stop();
			}
		}
	}
}
