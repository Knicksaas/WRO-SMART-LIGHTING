package ch.nte.wro.main;

import ch.nte.wro.linefollower.LinefollowerUntilLight;
import ch.nte.wro.motion.PickUpLight;
import ch.nte.wro.motion.Turn;
import ch.nte.wro.motion.motorsOFF;
import ch.nte.wro.motion.motorsON;
import ch.nte.wro.sensors.RGBColorSensorChecker;
import ch.nte.wro.status.GlobalSensors;
import ch.nte.wro.status.LightArrangement;
import lejos.robotics.RegulatedMotor;
import lejos.utility.Delay;

public class RedAndGreenAufräumen {

	private int speed;
	private RegulatedMotor mLeft;
	private RegulatedMotor mRight;
	private String lightA;
	private String lightB;
	private String lightC;
	private String lightD;
	
	public RedAndGreenAufräumen(int speed, RegulatedMotor mLeft, RegulatedMotor mRight) {
		this.speed = speed;
		this.mLeft = mLeft;
		this.mRight = mRight;
		
		driveToLightA();
		driveToLightB();
	
		
		LightArrangement.lightA = lightA;
		LightArrangement.lightB = lightB;
		LightArrangement.lightC = lightC;
		LightArrangement.lightD = lightD;
	}
	
	private boolean driveToLightA() {
		new motorsON(speed, mLeft, mRight, true);
		Delay.msDelay((50*1000)/speed);
		new motorsOFF(mLeft, mRight);
		new Turn(speed, 90, mLeft, mRight);
		LinefollowerUntilLight lul = new LinefollowerUntilLight(speed, mLeft, mRight, 60);
		if(lul.isThereALight()) {
			RGBColorSensorChecker rgb = new RGBColorSensorChecker(GlobalSensors.colorSensorFront);
			rgb.checkSensor();
			lightA = rgb.getColor();
			new PickUpLight(speed, mLeft, mRight);
			return true;
		}
		lightA = null;
		return false;
	}
	
	private boolean driveToLightB() {
		
		return false;
	}
}
